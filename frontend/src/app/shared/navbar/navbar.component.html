<!--Start topbar header-->
<header class="topbar-nav">
    <nav id="header-setting" class="navbar navbar-expand fixed-top bg-white">
        <ul class="navbar-nav mr-auto align-items-center">
            <li class="nav-item">
                <a class="nav-link toggle-menu" (click)="toggleSidebar()">
                    <i  style="color:#5FAC84" class="icon-menu menu-icon"></i>
                </a>
            </li>
        </ul>
        <ul class="navbar-nav align-items-center right-nav-link">

            <li class="nav-item dropdown-lg" ngbDropdown>
                <a href="javascript:;" class="nav-link dropdown-toggle-nocaret" id="dropdownBasic1" ngbDropdownToggle>
                    <i style="color:#5FAC84" class="fa fa-envelope-open-o"></i><span class="badge badge-danger badge-up"></span></a>
                <div ngbDropdownMenu aria-labelledby="dropdownBasic1"
                    class="dropdown-menu-right animate__animated animate__fadeInUp animate__faster">
                    <ul *ngIf="rol!='RESIDENTE'" class="list-group list-group-flush">
                        <li class="list-group-item disabled d-flex justify-content-between align-items-center">
                        </li>
                        <div class="dropdown-container" [perfectScrollbar]>
                            <li class="list-group-item" *ngFor="let vconver of lConversacion">
                                <div class="media">
                                    <div class="avatar">
                                        <img class="align-self-start mr-3"
                                            src="https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg"
                                            alt="user" width="65" class="rounded-circle">
                                    </div>
                                    <div style="margin-left: 10px;" class="media-body">
                                        <h6 class="mt-0 msg-title">{{vconver.user.nombre}}</h6>
                                        <p class="msg-info">
                                            {{vconver.lastMessage}}</p>
                                        <small>{{vconver.timeStamp| date:'shortDate'}}</small>

                                    </div>
                                </div>
                            </li>
                        </div>
                        <li class="list-group-item text-center"><a routerLink="/enviarmensaje">Ver todas</a></li>
                    </ul>

                    <ul *ngIf="rol=='RESIDENTE'" class="list-group list-group-flush">
                        <li class="list-group-item disabled d-flex justify-content-between align-items-center">
                        </li>
                        <div class="dropdown-container" [perfectScrollbar]>
                            <li class="list-group-item" *ngFor="let vconver of lConversacion">
                                <a>
                                    <div class="media">
                                        <div class="avatar"><img class="align-self-start mr-3"
                                                src="https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg"
                                                alt="user avatar" width="65" class="rounded-circle"></div>
                                        <div class="media-body">
                                            <h6 class="mt-0 msg-title">{{vconver.admin.nombre}}</h6>
                                            <p class="msg-info">{{vconver.lastMessage}}</p>
                                            <small>{{vconver.timeStamp| date:'shortDate'}}</small>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </div>
                        <li class="list-group-item text-center"><a  routerLink="/enviarmensaje">Ver todas</a></li>
                    </ul>

                </div>
            </li>
            <li class="nav-item dropdown-lg" ngbDropdown placement="bottom-right">
                <a href="javascript:;" class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect"
                    id="dropdownBasic2" ngbDropdownToggle>
                    <i class="fa fa-bell-o"></i><span class="badge badge-info badge-up">14</span></a>
                <div ngbDropdownMenu aria-labelledby="dropdownBasic2"
                    class="dropdown-menu dropdown-menu-right animate__animated animate__fadeInUp animate__faster">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item disabled d-flex justify-content-between align-items-center">
                            You have 14 Notifications
                            <span class="badge badge-info">14</span>
                        </li>
                        <li class="list-group-item list-group-item-warning">
                            <a href="javaScript:;">
                                <div class="media">
                                    <i class="zmdi zmdi-accounts fa-2x mr-3 text-primary"></i>
                                    <div class="media-body">
                                        <h6 class="mt-0 msg-title">New Registered Users</h6>
                                        <p class="msg-info">Lorem ipsum dolor sit amet...</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="javaScript:;">
                                <div class="media">
                                    <i class="zmdi zmdi-coffee fa-2x mr-3 text-success"></i>
                                    <div class="media-body">
                                        <h6 class="mt-0 msg-title">New Received Orders</h6>
                                        <p class="msg-info">Lorem ipsum dolor sit amet...</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="javaScript:;">
                                <div class="media">
                                    <i class="zmdi zmdi-notifications-active fa-2x mr-3 text-secondary"></i>
                                    <div class="media-body">
                                        <h6 class="mt-0 msg-title">New Updates</h6>
                                        <p class="msg-info">Lorem ipsum dolor sit amet...</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="list-group-item text-center"><a href="javaScript:;">See All Notifications</a></li>
                    </ul>
                </div>
            </li>

            <li class="nav-item border-left" ngbDropdown placement="bottom-right">
                <a href="javascript:;" class="nav-link dropdown-toggle dropdown-toggle-nocaret" id="dropdownBasic4"
                    ngbDropdownToggle>
                    <span class="user-profile"><img
                            src="https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg"
                            class="img-circle" alt="user avatar"></span>
                    <p class="ml-3 mb-0 float-right extra-small-font hidden-xs">
                        {{usuario.nombre}} {{usuario.apellidoPaterno}} {{usuario.rol=='RESIDENTE'?' - ' + usuario.departamento.nombre:''}} <br> EMDCON
                    </p>
                </a>
                <ul ngbDropdownMenu aria-labelledby="dropdownBasic4"
                    class="dropdown-menu dropdown-menu-right animate__animated animate__fadeInUp animate__faster">
                    <li class="dropdown-item user-details">
                        <a href="javaScript:;">
                            <div class="media">
                                <div class="avatar"><img class="align-self-start mr-3"
                                        src="https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg"
                                        alt="user avatar"></div>
                                <div class="media-body">
                                    <h6 class="mt-2 user-title">{{usuario.nombre}} {{usuario.apellidoPaterno}}</h6>
                                    <p class="user-subtitle">{{usuario.username}}</p>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li class="dropdown-divider"></li>
                    <li class="dropdown-item" routerLink="/enviarmensaje"><i class="icon-envelope mr-2"></i> Inbox</li>
                    <li class="dropdown-divider"></li>
                    <li (click)="cerrarSesion()" class="dropdown-item"><i class="icon-power mr-2"></i> Logout</li>
                </ul>
            </li>
        </ul>
    </nav>
</header>
<!--End topbar header-->